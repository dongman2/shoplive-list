<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Picture-in-Picture 예제</title>
<style>
  video {
    width: 100%; /* 비디오의 너비를 화면에 맞춤 */
    max-width: 600px; /* 최대 너비 제한 */
  }
  button {
    margin-top: 10px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
  }
</style>
</head>
<body>
<video id="videoElement" controls>
  <source src="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4" type="video/mp4">
  브라우저가 비디오 태그를 지원하지 않습니다.
</video>
<button id="pipButton">PIP 모드로 전환</button>

<script>
  const videoElement = document.getElementById('videoElement');
  const pipButton = document.getElementById('pipButton');

  pipButton.addEventListener('click', async () => {
    if (document.pictureInPictureEnabled && !videoElement.disablePictureInPicture) {
      console.log('requesting pip')
      try {
        await videoElement.requestPictureInPicture();
      } catch(error) {
        console.error('PIP 모드 활성화 실패:', error);
      }
    } else {
      alert('브라우저에서 PIP 기능을 지원하지 않습니다.');
    }
  });
</script>
</body>
</html>
